
<script src="../../angular-file-upload.js"></script>

<section data-ng-controller="ShopsController" data-ng-init="findOne()">
	<!-- Fix for old browsers -->
     

<style>
.col-md-4{
    padding: 10px;

}
.form-inline{
    padding: 17px;

}
fieldset{
    padding: 3px;
}
.main-body{
	background-color: #555;
}
h3, h4 {
	color: #565;
}
.stickyTop{
position: fixed;
top: 0px;
left: 0px;
right: 00px;
z-index: 999;

}
.signUpButton{
	background-color: #888;
	color: #898;
	position: fixed;
	padding: 5px;
	left: 0px;
	top: 25%;
	border-width: 3px;
	border-color: #333;
	border-radius: 10px;
	width: 13%;
	z-index: 999;

}
.modal-dialog{
	width: 90%;
}

.largeText {
	font-size: 1.5em;
	vertical-align: text-bottom;
	cursor: pointer;
}
</style>



	<div class="main-body">
	<alert type="success" class="text-center" data-ng-show="seeSA">
	Congratulations, the agreement has been sent to {{shop.primarycontactname}} ({{shop.email}}) from {{shop.name}}. If you'd like to review the agreement that was sent out, please click the button below. <br>
<a class="btn btn-primary btn-sm" style="color: #fff;" ng-click="seeAgreement()">View Agreement</a>
</alert>
	    <div class="container">
	    <alert type="warning" class="text-center" >
		Just a head's up, it appears that this Service Center is not complete:<br>

	      <a data-ng-show="!shop.signDate" class="btn btn-primary btn-sm" style="color: #fff;" data-ng-click="sendContract();">
				<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Send Service Center Agreement
			</a>  

				      <a class="btn btn-primary btn-sm" style="color: #fff;" data-ng-click="setHours();">
				<span class="glyphicon glyphicon-dashboard" aria-hidden="true"></span> Set Hours of Operation
			</a> 

				      <a  data-ng-show="!haveFiles" class="btn btn-primary btn-sm" style="color: #fff;" data-ng-click="uploadPhotos();">
				<span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span> Upload Insurance Docs
			</a>   

				      <a  data-ng-show="!haveFiles" class="btn btn-primary btn-sm" style="color: #fff;" data-ng-click="uploadPhotos();">
				<span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Upload Lease
			</a>   

				      <a data-ng-show="!havePhotos" class="btn btn-primary btn-sm" style="color: #fff;" data-ng-click="uploadPhotos();">
				<span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Upload Photos
			</a>   
			</alert>

	    	<!-- <div class="text-center bg-danger">
	    	<h3>Past Due</h3>
	    	</div> -->
		<div class="panel panel-primary">
	       
	    	<div class="col-md-4">
	            <div class="panel panel-profile">
	                <fieldset>
	                    <div class="panel-heading bg-primary clearfix">
	                             
	                                <h4>Service Center General Information</h4>
	                              
	                    </div>
	                    <div class="media">
	                        <div class="media-body">
	                                        <ul class="list-unstyled list-info">
	                                            <li>
	                                                
	                                                <label> Name</label>
	                                                {{shop.name}} 
	                                            </li>
	                                             <li>
	                                               <!--  <span class="icon glyphicon glyphicon-earphone"></span> -->
	                                                <label>Phone</label>
	                                                {{shop.telephone | tel}}
	                                            </li>
	                                            <li>
	                                               
	                                                <label>Email</label>
	                                                {{shop.email}}
	                                            </li>
	                                            <li>
	                                               <!--  <span class="icon glyphicon glyphicon-earphone"></span> -->
	                                                <label>Primary Contact</label>
	                                                {{shop.primarycontactname}}
	                                            </li>
	                                             <li>
	                                               <!--  <span class="icon glyphicon glyphicon-earphone"></span> -->
	                                                <label>Alternate Contact</label>
	                                                {{shop.altcontactname}}
	                                            </li>
	                                            <li>
	                                               <!--  <span class="icon glyphicon glyphicon-envelope"></span> -->
	                                                <label>Alternate Phone</label>
	                                                 {{shop.alttelephone | tel}} 
	                                            </li>
	                                              
	                                        </ul>
	                        </div>
	                    </div>
	        		</fieldset>
	               
	            </div>
	        </div> 

	        <div class="col-md-4">
	            <div class="panel panel-profile">
	   	            <fieldset>

	                    <!-- Pofile panel -->
	                    <!-- <div class="panel panel-profile"> -->
	                        <div class="panel-heading bg-primary clearfix">
	                            <!-- <a href="" class="pull-left profile">
	                                <img alt="" src="images/g1.jpg" class="img-circle img80_80">
	                            </a> -->
	                            <!-- <div class="pull-left profile">
	                                <i class="fa fa-users text-large stat-icon"></i>
	                            </div> -->
	                            <!-- <span class="pull-left box-icon rounded text-large">
	                                <i class="fa fa-check"></i>
	                            </span> -->
	                            <h4>Address & Hours of Operation</h4>
	                          
	                        </div>
	                    	<div class="media">
	                      
	                            <div class="media-body">
	                                <ul class="list-unstyled list-info">
	                                    <li>
	                                        
	                                        <label>Address</label>
	                                        {{shop.address}}
	                                    
	                                         {{shop.city}},  {{shop.state}}  {{shop.zipcode}}
	                                    </li>
	                                    <li>
	                                       
	                                        <label>Hours</label>
	                                        <ul class="list-unstyled list-info">
	                                    <li>
	                                        <label>Mon - Fri</label> 8-11am<br>
	                                      <label>Saturday</label> 9-5<br>
	                                      <label>Sunday</label> Closed<br>
	                                    </li>
	                                    <li data-ng-show="shop.signDate">
	                                       <!--  <span class="icon glyphicon glyphicon-earphone"></span> -->
	                                        <label>Sign-Up Date</label>
	                                        {{shop.signDate | date: 'MMM d, yyyy' || 'N/A'}}
	                                    
	                                    
	                                        <br>
	                                         <label>Service Agreement</label>
	                                        
	                                     <a data-ng-click="downloadSA(shop._id)">Download Signed Agreement

									</a>
														</li>
									    <li data-ng-show="myUploads">
	                                       <!--  <span class="icon glyphicon glyphicon-earphone"></span> -->

	                                       <span ng-repeat="file in myUploads">
	                                       <label>Filename</label>
	                                       <a ng-click="dlUpload(file._id, file.FileName)"> 
	                                        {{file.FileName | limitTo: 32}}
	                                        </a>
	                                        <br>
	                                        </span>
	                                        <br>
	                                        <center>
	                                        <a class="btn btn-primary btn-xs" ng-click="uploadPhotos()"> 
	                                        Add File
	                                        </a>
	                                        </center>
	                                    							</li>


	                                    

	                                </ul>
	                            </div>
	                        </div>
	                </fieldset>
	               
	            </div>
	        </div> 


	        <div class="col-md-4">
	            <div class="panel panel-profile">

	                <form name="form"  class="form-horizontal form-validation" novalidate>
	                    <fieldset>

	                        <!-- Pofile panel -->
	                        <!-- <div class="panel panel-profile"> -->
	                            <div class="panel-heading bg-primary clearfix">
	                                <!-- <a href="" class="pull-left profile">
	                                    <img alt="" src="images/g1.jpg" class="img-circle img80_80">
	                                </a> -->
	                                <!-- <div class="pull-left profile">
	                                    <i class="fa fa-users text-large stat-icon"></i>
	                                </div> -->
	                                <!-- <span class="pull-left box-icon rounded text-large">
	                                    <i class="fa fa-check"></i>
	                                </span> -->
	                                <h4>Recent Work Orders</h4>
	                              
	                            </div>
	                            <div class="media">
	                              
	                                    <div class="media-body">
	                                         <table class="table table-bordered table-striped table-responsive" data-ng-init="getWorkOrders()">
	                <thead>
	                    <tr>
	                    <th>
	                            <div class="th">
	                                Date
	                             </div>
	                        </th>
	                        <th>
	                            <div class="th">
	                                Type
	                             </div>
	                        </th>
	                        <th>
	                            <div class="th">
	                                Client 
	                        </div>
	                        </th>
	                         <th>
	                            <div class="th">
	                                Status 
	                        </div>
	                        </th>
	                        

	                                  </tr> 
	                </thead>
	                <tbody>
	                    <tr>
	                    <td>11/2/2014</td>
	                    <td>Installation</td>
	                    <td>Tom Johnson</td>
	                    <td>Complete</td>
	                   
	                    </tr>

	                      <tr>
	                    <td>11/7/2014</td>
	                    <td>Calibration</td>
	                    <td>Lester Dkovaic</td>
	                    <td>Pending</td>
	                   
	                    </tr> <tr>
	                    <td>11/15/2014</td>
	                    <td>Installation</td>
	                    <td>Ryan Johnson</td>
	                    <td>Rejected</td>
	                    
	                    </tr> <tr>
	                    <td>12/3/2014</td>
	                    <td>Calibration</td>
	                    <td>Steve Smith</td>
	                   <td>Approved</td>
	                    </tr>


	                    </tbody>
	                    </table>
	                                    </div>
	                                </div>
	                      
	                            </div>

	                    </fieldset>
	                </form>
	            

	            </div>
	           
	             
	        </div> 

	        

	       <div class=" clearfix"></div>
	    	
	
	
	    <div class="pull-right" data-ng-show="authentication.user._id == shop.user._id">
			<a class="btn btn-primary" href="/#!/shop/{{shop._id}}/edit">
				<i class="glyphicon glyphicon-edit"></i>
			</a>
			<a class="btn btn-danger" data-ng-click="remove();">
				<i class="glyphicon glyphicon-trash"></i>
			</a>
		</div>
		<small>
			<em class="text-muted">
				Posted on
				<span data-ng-bind="shop.created | date:'mediumDate'"></span>
				by
				<span data-ng-bind="shop.user.displayName"></span>
			</em>
		</small>


		<!-- <div class="signUpButton" data-ng-show="!hideeSign">
		<center>
		Service Center Checklist
		</center>
		<ul>
		<li>Shop Name</li>
		<li>Shop Name</li>
		<li>Shop Name</li>
		<li>Shop Name</li>
		<li>Shop Name</li>
		<li>Shop Name</li>

		</ul>
		
			<br>
			<span style="font-size: 8px; color: #fff">
			You will be emailed a signed copy to {{shop.email}}
			</span>
			
	</div> -->

	<script type="text/ng-template"  ng-class="modal-sm" id="hoursModal.html">
	<style>
	.modal-dialog{
		width: 50%;
	}
	.container-sm{
		width: 50%;
		align: center:
		text

	}
	table, th, td {
		padding: 3px;
		border: 1px solid black;
		table-layout: fixed;
		width: 80%;
	}
	td{
		display: table-cell;
		width: 100%;
	}
	</style>
	<center>
	<div class="container-sm">
            <div class="row">
            	
	           	 
            	<h4>Set Hours of Operation</h4>
				
				<table align="center">
					<thead>
					<tr>
						<th>Day</th>
						<th>Open</th>
						<th>Close</th>
					</tr>
					</thead>
					<tbody>
						<tr>
							<td><label>Monday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Tuesday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Wednesday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Thursday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Friday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Saturday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
						<tr>
							<td><label>Sunday</label></td>
							<td>8am</td>
							<td>5pm</td>
						</tr>
					</tbody>
				</table>
 				<div class="modal-footer">
            <button class="btn btn-primary" ng-click="makeHours()">Approve</button>
            <button class="btn btn-warning" ng-click="close()">Cancel</button>
        </div>
       
			</div>
			</div>
			</center>
	</script>
    
    <script type="text/ng-template" id="myModalContent.html">
		<!DOCTYPE html>
   

        <style>
            .my-drop-zone { border: dotted 3px lightgray; }
            .nv-file-over { border: dotted 3px red; } /* Default class applied to drop zones on over */
            .another-file-over-class { border: dotted 3px green; }
            html, body { height: 100%; }
            canvas {
                background-color: #f3f3f3;
                -webkit-box-shadow: 3px 3px 3px 0 #e3e3e3;
                -moz-box-shadow: 3px 3px 3px 0 #e3e3e3;
                box-shadow: 3px 3px 3px 0 #e3e3e3;
                border: 1px solid #c3c3c3;
                height: 100px;
                margin: 6px 0 0 6px;
            }
        </style>

    </head>

    <!-- Example: nv-file-drop="" uploader="{Object}" options="{Object}" filters="{String}" -->
    <body nv-file-drop="" uploader="uploader">

        <div class="container">
        
           

            <div class="row">

            	 

                <div class="col-md-10 col-md-offset-1" style="margin-bottom: 40px">
                    
                    	

	

                    <h4>Upload Service Center Photos & Documents (.JPG/.PNG/.GIF/.PDF)</h4>
                 
                 	<input type="file" nv-file-select="" uploader="uploader" multiple  /><br/>


                    <p>Items to Upload: {{ uploader.queue.length }}</p>

                    <table class="table">
                        <thead>
                            <tr>
                                <th width="50%">Name</th>
                                <th ng-show="uploader.isHTML5">Size</th>
                                <th ng-show="uploader.isHTML5">Progress</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in uploader.queue">
                                <td>
                                    <strong>{{ item.file.name }}</strong>
                                    
                                    
                                    <!-- Image preview -->
                                    <!--auto height-->
                                    <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
                                    <!--auto width-->
                                    <div ng-show="uploader.isHTML5" ng-thumb="{ file: item._file, height: 100 }"></div>
                                    <!--fixed width and height -->
                                    <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
                                     
                                </td>
                                <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                                <td ng-show="uploader.isHTML5">
                                    <div class="progress" style="margin-bottom: 0;">
                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                    <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                    <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                </td>
                                <td nowrap>
                                    <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                        <span class="glyphicon glyphicon-upload"></span> Upload
                                    </button>
                                    <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                        <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                    </button>
                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                        <span class="glyphicon glyphicon-trash"></span> Remove
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div>
                        <div>
                            Queue progress:
                            <div class="progress" style="">
                                <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-success btn-s" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
                            <span class="glyphicon glyphicon-upload"></span> Upload all
                        </button>
                        <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">
                            <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
                        </button>
                        <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">
                            <span class="glyphicon glyphicon-trash"></span> Remove all
                        </button>
                    </div>

                </div>
                <button class="btn btn-warning" ng-click="close()">Close</button>

            </div>
           
        </div>

    </body>
</html>
			
    </script>




	</div> 
	</div></div>
	     
	    </div>
	</div> 
		
</section>

