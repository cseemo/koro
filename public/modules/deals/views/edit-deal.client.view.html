<section data-ng-controller="DealsController" data-ng-init="findOne()">
    <div class="page-header">
        <h1>{{deal.companyname}} - Order Management</h1>
    </div>
    <form class="form-horizontal" data-ng-submit="update()" novalidate>
    <div class="row">
     <div class="col-lg-12 col-xsm-6">
     <div class="panel panel-primary">
        <div class="panel-body">
            <div class="field">
            <h4>Deal Stage: {{deal.stage}}</h4>
          <!--<select data-ng-model="mystage" class="form-control text-center" style="width: 50%; float:right;" ng-options="mystage.name for mystage in myDealstages"></select> -->
          <span data-ng-show="authentication.hasRole('typist') || authentication.hasRole('manager') || authentication.hasRole('admin') ">
          <br>
          <div data-ng-show="deal.stagenum==55" >
          <fieldset class="form-inline">
            <div class="form-group">
          <label class="form-label">Centurylink Order Number:
          <input type="text" data-ng-model="deal.ctlordernumber" style="width: 30%" class="form-control"/></label>
            </div></fieldset></div>
        <br>
        
          <button data-ng-show="deal.stagenum==5" class="btn btn-w-md btn-gap btn-info" data-ng-click="assignDeal()">Assign Deal</button>
          <button data-ng-show="deal.stagenum==20" class="btn btn-w-md btn-gap btn-info" data-ng-click="QCApproved()">QC Approve</button>

          <button data-ng-show="deal.stagenum==55" class="btn btn-w-md btn-gap btn-info" data-ng-click="assignOrderNumber()">Assign CTL Order Number</button>
      

          <button data-ng-show="deal.stagenum==70" class="btn btn-w-md btn-gap btn-info" data-ng-click="assignDeal()">Confirm Installation</button>


          <button class="btn btn-w-md btn-gap btn-danger" data-ng-click="rejectDeal()">Reject Order</button>
           </span>


       
             </div>
            </div>
            </div>

            <input type="submit" value="Update" class="btn btn-default">
              
            </div>

     <div class="col-lg-6 col-xsm-6">
     
     <div class="panel panel-primary">
        <div class="panel-body">
             <fieldset class="form-horizontal">
                <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="companyname">Company Name</label>
                        <input type="text" data-ng-model="deal.companyname" id="name" class="form-control pull-right" style="width: 50%" class="form-control text-center"d>
                        </div>

                        <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="telephone">Telephone</label>
                        <input type="text" data-ng-model="deal.telephone" class="form-control pull-right" style="width: 50%" >
                        </div>

                    <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="contactname">Contact Name</label>
                        <input type="text" data-ng-model="deal.contactname" class="form-control pull-right" style="width: 50%" >
                        </div>

                    <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="dealstage">Deal Stage</label>
                        <input type="text" data-ng-model="deal.stage" class="form-control pull-right" style="width: 50%" >
                        </div>

                        <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="projectmanager">Project Manager</label>
                        <input type="text" data-ng-model="deal.projectmanager" class="form-control pull-right" style="width: 50%" >
                        </div>
                        <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="website">Website</label>
                        <input type="text" data-ng-model="deal.website" class="form-control pull-right" style="width: 50%" >
                        </div>
                  
                        </fieldset>
    </div></div></div>


     <div class="col-lg-6 col-xsm-6">
     
     <div class="panel panel-primary">
        <div class="panel-body">
             <fieldset class="form-horizontal">
             <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="taxid">Federal Tax ID</label>
                        <input type="text" data-ng-model="deal.taxid" class="form-control pull-right" style="width: 50%" >
                        </div>
                <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="billingcontact">Billing Contact</label>
                        <input type="text" data-ng-model="deal.billingcontact" class="form-control pull-right" style="width: 50%" >
                        </div>

                        <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="billingtelephone">Billing Telephone</label>
                        <input type="text" data-ng-model="deal.billingtelephone" class="form-control pull-right" style="width: 50%" >
                        </div>

                    <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="billingemail">Billing Email</label>
                        <input type="text" data-ng-model="deal.billingemail" class="form-control pull-right" style="width: 50%" >
                        </div>

                    <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="billingaddress">Billing Address</label>
                        <input type="text" data-ng-model="deal.billingaddress" class="form-control pull-right" style="width: 50%" >
                         </div>
                       <div class="form-inline">
                       <div class="form-group">
                    <label class="form-label" style="font-size: 24px;" for="billingaddress">City</label>
                        <input type="text" data-ng-model="deal.billingcity" class="form-control pull-right" style="width: 20%" >
                
                    <label class="form-label" style="font-size: 24px;" for="billingaddress">State</label>
                        <input type="text" data-ng-model="deal.billingstate" class="form-control pull-right" style="width: 15%" >
               
                    <label class="form-label" style="font-size: 24px;" for="billingaddress">Zip</label>
                        <input type="text" data-ng-model="deal.billingzipcode" class="form-control pull-right" style="width: 15%" >
                        </div>
                        </div>
                        </fieldset>
                    </div></div></div></div>

<div class="row">

    <div class="col-lg-6 col-xsm-6">
     <div class="panel panel-primary">
            <div class="panel-body" ng-init="dslspeed()">

    <h2>Services Ordered</h2>
            
            <div class="field">
    <label class="form-text">DSL Speed:</label>
     
    <input   ng-model="deal.dslspeed" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" />
    </div>

              
    <div class="clearfix"></div> 


            <div class="field">
            <label class="form-text">Additional Lines:</label>
            <input   ng-model="deal.adl" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" />
          </div>
                              <div class="clearfix"></div> 


                <div class="field">
            <label class="form-text">Term:<span id='myphoneError' style='display: none; color: red'>How Long of a Term?</span></label>
          <input   ng-model="deal.term" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" />
             </div>
              <div class="clearfix"></div>   
                  
                        <div class="field">

            <label class="form-text">DSL Modem:<span id='myphoneError' style='display: none; color: red'>What about the modem?</span></label>
            <input   ng-model="deal.modem" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" /></div>
                              
                     <div class="clearfix"></div>
                  
                  <div class="field">
            <label class="form-text">Static IP:<span id='myphoneError' style='display: none; color: red'>What about Static IPs?</span></label>
            <input   ng-model="deal.staticip" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" /></div>
                  
                     <div class="clearfix"></div>
                  
                  
                        <div class="field">
                  <label class="form-text" for="telephone">Waive NRCs:</label>
                  <input   ng-model="deal.waivenrcs" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" />
              </div>
                  
                   <div class="clearfix"></div> 
                        <div class="field">
                  <label class="form-text" for="telephone">Credits Issued:</label>
                  <input   ng-model="deal.winbackcredits" type="text" name="adl" style="width: 50%; float:right;" class="form-control text-center" />
              </div>
                   <div class="field">
                   <center>
                   <h4>
                   <br>
                   ${{deal.mrc}} per Month<br>
                  ${{deal.nrc}} One-Time

     </h4></center>
   
    </div>
                  <div class="clearfix"></div> 
    
    </div></div></div>
          <div class="col-lg-6 col-xsm-6">
             <div class="panel panel-primary">
                    <div class="panel-body">

            <h2>Telephone Line Details</h2>
             <div class="field">
             <div data-ng-repeat="line in deal.lineDetails">
             Line #{{$index+1}}<br/>
              <label class="form-label" style="font-size: 24px;">Telephone Number</label>
              <input ng-model="line.number" type="text" style="width: 50%;" class="form-control text-center pull-right" />
              <br/>
              <label class="form-label" style="font-size: 24px;">VM:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.voicemail"><i></i></label>
            <label class="form-label" style="font-size: 24px;">ESM:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.esm"><i></i></label>

            <label class="form-label" style="font-size: 24px;">E03:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.eo3"><i></i></label>

            <label class="form-label" style="font-size: 24px;">CID:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.nnk"><i></i></label>
            <label class="form-label" style="font-size: 24px;">6DA:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.da6"><i></i></label>
             <span data-ng-hide="line.hunting==true">
            <label class="form-label" style="font-size: 24px;">CW:</label>
             <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.cw"><i></i></label>
            <label class="form-label" style="font-size: 24px;">CWID:</label>
           <label class="switch" style="vertical-align: middle"><input type="checkbox" style="vertical-align: middle" ng-model="line.cwid"><i></i></label>
         </span>
           <br>
            <span class="form-inline" data-ng-hide="line.cw==true">
             <label class="form-label" style="font-size: 24px;">Hunting:</label>
            <label class="switch" style="vertical-align: middle"><input type="checkbox" ng-model="line.hunting"><i></i></label>
            <span data-ng-show="line.hunting==true">
           <label class="form-label" style="font-size: 24px;">Group:</label>
            <input ng-model="line.huntgroup" type="text" style="width: 10%;" class="form-control text-center">
           <label class="form-label" style="font-size: 24px;">Hunt Order:</label>
            <input ng-model="line.huntorder" type="text" style="width: 10%;" class="form-control text-center">
           </span></span>
             <br/><br/>
             </div>
  
              </div>




            </div>
        </div>
        </div>

        <div class="col-lg-6 col-xsm-6">
             <div class="panel panel-primary">
                    <div class="panel-body">

            <h2>Notes</h2>
            Notes: {{deal.notes}}
            </div>
        </div>
        </div>


    </div>
    <div class="col-md-12">
        <form class="form-horizontal" data-ng-submit="update()" novalidate>
            <fieldset>
             











                <div class="form-group">
                    <input type="submit" value="Update" class="btn btn-default">
                </div>
        <div data-ng-show="error" class="text-danger">
          <strong data-ng-bind="error"></strong>
        </div>
            </fieldset>
        </form>
    </div>
</section>